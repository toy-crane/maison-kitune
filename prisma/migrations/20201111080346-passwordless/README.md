# Migration `20201111080346-passwordless`

This migration has been generated by toycrane at 11/11/2020, 5:03:46 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."VerificationToken" DROP CONSTRAINT "VerificationToken_userId_fkey"

ALTER TABLE "public"."User" DROP COLUMN "password",
DROP COLUMN "resetToken",
DROP COLUMN "resetTokenExpiry",
ADD COLUMN "createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP

DROP TABLE "public"."VerificationToken"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201106024249-github-id-to-string..20201111080346-passwordless
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -30,23 +30,13 @@
 model User {
   id      Int      @default(autoincrement()) @id
   email   String   @unique
-  password String?
   name    String?
   posts   Post[]
   profile Profile?
   githubId String?
   googleId String?
-  resetToken String?
-  resetTokenExpiry Int?
   isActive Boolean @default(false)
-}
-
-model VerificationToken {
-  id      Int      @default(autoincrement()) @id
-  user   User    @relation(fields: [userId], references: [id])
-  userId Int    
-  verificationToken String
   createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
+  updatedAt DateTime @updatedAt @default(now())
 }
```


